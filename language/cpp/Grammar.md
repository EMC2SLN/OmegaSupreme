***
下面哪段代码是正确的
``` C
A. int f() { int *a = new int(3); return *a; }
B. int *f() { int a[3] = {1, 2, 3}; return a; }
C. vector<int> f() {vector<int> v(3); return v; }
D. void f(int *ret) { int a[3] = {1, 2, 3}; ret = a; return; }
```
**答案: C**

A：和大家说的一样，new申请的内存在离开作用域时由于没有delete，导致内存泄漏。（这块内存对于系统来说是被占用的，但是实际上已经没有人使用了，所以这块内存永远无法释放！有兴趣的可以看看malloc的源码分析）
B：数组不能复制和拷贝
C：vector容器可以复制或拷贝
D：同B
当函数参数实例化形参或者函数返回值时，一般调用对象的拷贝构造函数！
***


下面描述正确的是
``` CPP
int *p1 = new int[10];
int *p2 = new int[10]();
```
```
A. p1和p2申请的空间里面的值都是随机值
B. p1和p2申请的空间里的值都已经初始化
C. p1申请的空间里的值是随机值，p2申请的空间里的值已经初始化
D. p1申请的空间里的值已经初始化，p2申请的空间里的值是随机值
```

**答案: C**

在C++primer(第5版)中关于new的讨论有：
1. new当个对象
new在自由空间分配内存，但其无法为其分配的对象命名，因次是无名的，分配之后返回一个指向该对象的指针。
`int *pi = new int; // pi指向一个动态分配的，未初始化的无名对象`
此new表达式在自由空间构造一个int类型对象，并返回指向该对象的指针。

默认情况下，动态分配的对象是默认初始化的，这意味着内置类型或组合类型的对象的值是无定义的，而类类型对象将用默认构造函数进行初始化。

2. new(多个对象)数组
new分配的对象，不管单个对象还是多个对象的分配，都是默认初始化。但可以对数组进行值初始化，方法就是：在大小之后添加一对空括号。


***
